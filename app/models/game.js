import DS from 'ember-data';
import { computed } from '@ember/object';
const { Model } = DS;

const TEMPLATES = [
    [ "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "pink", "pink", "pink", "pink", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "pink", "purple", "grey", "pink", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "pink", "grey", "purple", "pink", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "pink", "pink", "pink", "pink", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "orange", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "blue", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "black", "black", "black", "black", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "teal", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black", "black" ],
    [ "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow" ],
    [ "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "yellow", "red", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow", "black", "yellow" ],
[ "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "black", "black", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "black", "black", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white", "white" ]
]

export default Model.extend({
    templatePicture: DS.belongsTo('picture', { async: false }),
    playerPicture: DS.belongsTo('picture', { async: false }),

    init() {
        this._super(...arguments);

        this.set('templatePicture', this.store.createRecord('picture'));
        this.set('playerPicture', this.store.createRecord('picture'));

        this.pickRandomTm();
    },
    correctCellCount: computed('templatePicture.cells.@each.{color}', 'playerPicture.cells.@each.{color}', function(){
        let count=0;
        for(let i=0; i<this.templatePicture.cells.length;i++){
            if(this.templatePicture.cells.objectAt(i).color == this.playerPicture.cells.objectAt(i).color)
            count++;
        }
        return count;
    }),

    isComplete: computed.equal('correctCellCount', 400),

    pickRandomTm() {
        let randomTm = TEMPLATES[Math.floor(Math.random() * TEMPLATES.length)];
        this.templatePicture.load(randomTm);
        this.playerPicture.clear();
    }
});
